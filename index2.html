<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Paul Pucciarelli - Fullstack Engineer</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="normalize.css">
  <link rel="stylesheet" href="style2.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.2.1/lodash.min.js" ></script>
</head>
<body style="
min-height: 800px;
perspective: 400px;
-webkit-perspective: 1000px;
-webkit-perspective-origin: 50% 50%;
background: #7b4397; /* fallback for old browsers */
background: -webkit-linear-gradient(to left, #7b4397 , #dc2430); /* Chrome 10-25, Safari 5.1-6 */
background: linear-gradient(to left, #7b4397 , #dc2430); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
">

<!--
<video autoplay loop poster="loading.jpg" id="bgvid" style="
position: fixed;
top: 50%;
left: 50%;
min-width: 100%;
min-height: 100%;
width: auto;
height: auto;
z-index: -100;
-ms-transform: translateX(-50%) translateY(-50%);
-moz-transform: translateX(-50%) translateY(-50%);
-webkit-transform: translateX(-50%) translateY(-50%);
transform: translateX(-50%) translateY(-50%);
background: url(polina.jpg) no-repeat;
background-size: cover;
">
  <source src="http://ak1.picdn.net/shutterstock/videos/4652414/preview/stock-footage-new-york-september-manhattan-skyline-on-beautiful-night-with-empire-state-building-and.mp4" type="video/mp4">
</video>
-->

<div class="flextainer flextainer flexcol" style="height: 100vh;">

  <!-- TOP BUFFER -->
  <div style="height: 50px;"></div>

  <div class="flex1 flextainer flexcenter flexitemsend" style="">

    <!-- LEFT GUTTER -->
    <div class="flex1"></div>

    <div class="flex30 flextainer" style="
    height: calc(100vh - 100px);
    ">

      <!-- LEFT SIDE OF LEFT COL -->
      <div style="
      width: 200px;
      margin-left: -200px;
      background: rgba(255, 255, 255, 0.1);
      transform: translateX(100px) rotateY(90deg) translateX(100px);
      border: 1px solid rgba(0, 0, 0, 0.33);
      border-left: none;
      "></div>

      <!-- LEFT COL -->
      <div id="left" class="flex2 flextainer flexcol" style="
      background: rgba(255, 255, 255, 0.2);
      color: rgba(255, 255, 255, 1.0);
      border: 1px solid rgba(0, 0, 0, 0.33);
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      font-family: 'OverpassExtraLight', 'sans-serif';
      text-shadow: 1px 1px 1px rgba(0, 0, 0, 1.0);
      ">

        <div class="flextainer flexcenter flexcol" style="
        margin: 20px 20px 10px;
        background: rgba(0, 0, 0, 0.1);
        -webkit-box-shadow: inset 0px 0px 5px 1px rgba(0,0,0,0.5);
        -moz-box-shadow: inset 0px 0px 5px 1px rgba(0,0,0,0.5);
        box-shadow: inset 0px 0px 5px 1px rgba(0,0,0,0.5);
        border-top: 1px solid rgba(0, 0, 0, 0.5);
        border-left: 1px solid rgba(255, 255, 255, 0.5);
        border-bottom: 1px solid rgba(255, 255, 255, 0.5);
        border-right: 1px solid rgba(0, 0, 0, 0.5);
        border-radius: 10px;
        ">
          <div
          class="flex1"
          style="
          opacity: 1.0;
          margin-top: 15px;
          background: transparent url('pp.png') center no-repeat;
          -webkit-background-size: contain;
          -moz-background-size: contain;
          -o-background-size: contain;
          background-size: contain;
          min-height: 100px;
          text-align: center;
          -webkit-filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.8));
          filter: drop-shadow(1px 1px 1px rgba(0, 0, 0, 0.8));
          ">
          </div>
          <div class="flexselfcenter" style="
          color: rgba(255, 255, 255, 1.0);
          font-size: 1.3rem;
          padding: 10px 15px 5px;
          white-space: nowrap;
          margin-left: -10px;
          ">
            Paul Pucciarelli
          </div>
        </div>

        <div class="flextainer flexcenter flexitemcenter" style="

        ">

        </div>

        <div class="navItem">
          PROJECTS
        </div>

        <div class="navItem">
          RESUME
        </div>

        <div class="navItem">
          GITHUB
        </div>

        <div class="navItem">
          LINKEDIN
        </div>

      </div>

      <!-- RIGHT SIDE OF LEFT COL -->
      <div style="
      width: 200px;
      background: rgba(255, 255, 255, 0.1);
      transform: translateX(-100px) rotateY(90deg) translateX(100px);
      border: 1px solid rgba(0, 0, 0, 0.33);
      border-left: none;
      "></div>

      <!-- CONTENT AREA ? -->
      <div class="flex7 flextainer flexcol" style="
      transform: translateZ(-40px);
      margin-left: -200px;
      ">
        <div style="height: 50px;"></div>
        <div id="content" class="flex1" style="
        background: rgba(255, 255, 255, 0.2);
        border: 1px solid rgba(0, 0, 0, 0.33);
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        ">

        </div>
      </div>

      <!-- RIGHT SIDE OF CONTENT AREA -->
      <div style="
      margin-top: 50px;
      margin-left: -160px;
      width: 160px;
      background: rgba(255, 255, 255, 0.1);
      transform: translateZ(-120px) rotateY(90deg) translateZ(80px);
      border: 1px solid rgba(0, 0, 0, 0.33);
      border-left: none;
      "></div>

    </div>

    <!-- RIGHT GUTTER -->
    <div class="flex1"></div>

  </div>

  <!-- BOTTOM BUFFER -->
  <div style="height: 50px;"></div>

</div>
<div id="leftTop" style="
width: 400px;
height: 200px;
position: absolute;
background: rgba(255, 255, 255, 0.3);
transform: translateY(-100px) rotateX(90deg) translateY(-100px);
border: 1px solid rgba(0, 0, 0, 0.33);
"></div>

<div id="contentTop" style="
width: 400px;
height: 160px;
position: absolute;
background: rgba(255, 255, 255, 0.3);
transform: translateZ(-120px) translateY(-80px) rotateX(90deg);
border: 1px solid rgba(0, 0, 0, 0.33);
"></div>

</body>
<script>

  (function() {

    var BASE_PERSPECTIVE = 1000;
    var LISTENER_RATE_LIMIT = 10;
    var MOVE_MUTE_FACTOR = 0.9;
    var ZOOM_MUTE_FACTOR = 3;

    var left = null;
    var leftTop = null;
    var content = null
    var contentTop = null;
    var viewportHeight = null;
    var viewportWidth = null;

    function getCoords(el) {
      var rect = el.getBoundingClientRect();
      return {
        top: rect.top + document.body.scrollTop,
        left: rect.left + document.body.scrollLeft
      };
    }

    function updateSize(el, coords, width) {
      el.style.width = width + 'px';
      el.style.top = coords.top + 'px';
      el.style.left = coords.left + 'px';
    }

    function resize() {
      var leftCoords = getCoords(left);
      var contentCoords = getCoords(content);
      console.log(contentCoords);
      updateSize(leftTop, leftCoords, left.offsetWidth);
      updateSize(contentTop, contentCoords, content.offsetWidth);
      viewportHeight = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
      viewportWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
    }

    document.addEventListener("DOMContentLoaded", function() {
      left = document.getElementById('left');
      content = document.getElementById('content');
      leftTop = document.getElementById('leftTop');
      contentTop = document.getElementById('contentTop');
      resize();
    });

    // TODO debounce onResize listener.
    window.addEventListener('resize', _.throttle(function(event){
      resize();
    }, LISTENER_RATE_LIMIT));

    window.addEventListener('mousemove', _.throttle(function(event){

      var inversePercentX = 100 * (1 - event.clientX / viewportWidth);
      var inversePercentY = 100 * (1 - event.clientY / viewportHeight);
      var distPercentX = 50 - inversePercentX;
      var distPercentY = 50 - inversePercentY;
      var distPercent = Math.sqrt(distPercentX * distPercentX + distPercentY * distPercentY);
      var perspective =  Math.max(BASE_PERSPECTIVE - (ZOOM_MUTE_FACTOR * distPercent), 100);

      document.body.style.webkitPerspective = perspective + 'px';
      document.body.style.webkitPerspectiveOrigin = inversePercentX + '% ' + inversePercentY + '% ';
      document.body.style.marginLeft = (MOVE_MUTE_FACTOR * distPercentX) + 'px';
      document.body.style.marginTop = (MOVE_MUTE_FACTOR * distPercentY) + 'px';
      //console.log(document.body.style.webkitPerspective, document.body.style.webkitPerspectiveOrigin, document.body.style.marginLeft, document.body.style.marginTop);

    }, LISTENER_RATE_LIMIT));

  }());

</script>
</html>