<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Paul Pucciarelli - Fullstack Engineer</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="normalize.css">
  <link rel="stylesheet" href="style2.css">
</head>
<body style="
min-height: 800px;
perspective: 400px;
-webkit-perspective: 1000px;
-webkit-perspective-origin: 75% -50%;
">

<div id="leftTop" style="width: 400px; height: 200px; position: absolute; background: rgba(0, 0, 255, 0.5); transform: translateY(-100px) rotateX(90deg) translateY(-100px);"></div>

<div id="contentTop" style="width: 400px; height: 200px; position: absolute; background: rgba(255, 0, 0, 0.5); transform: translateY(-100px) translateZ(-40px) rotateX(90deg) translateY(-100px);"></div>

<div class="flextainer flextainer flexcol" style="height: 100vh;">

  <!-- TOP BUFFER -->
  <div style="height: 200px;"></div>

  <div class="flex1 flextainer flexcenter flexitemsend">

    <!-- LEFT GUTTER -->
    <div class="flex1"></div>

    <div class="flex15 flextainer" style="height: calc(100vh - 200px);">

      <!-- LEFT COL -->
      <div id="left" class="flex2 flextainer" style="background: rgba(255, 0, 0, 0.5);"></div>

      <!-- RIGHT SIDE OF LEFT COL -->
      <div style="width: 200px; background: rgba(0, 255, 0, 0.5); transform: translateX(-100px) rotateY(90deg) translateX(100px);"></div>

      <!-- CONTENT AREA ? -->
      <div class="flex7 flextainer flexcol" style="background: rgba(0, 0, 0, 0.0); transform: translateZ(-40px); margin-left: -200px;">
        <div style="height: 50px;"></div>
        <div id="content" class="flex1" style="background: rgba(0, 0, 255, 0.5);">
          CONTENT AREA
        </div>
      </div>

    </div>

    <!-- RIGHT GUTTER -->
    <div class="flex1"></div>

  </div>

  <!-- BOTTOM BUFFER -->
  <div style="height: 50px;"></div>

</div>
</body>
<script>

  (function() {

    var left = null;
    var leftTop = null;
    var content = null
    var contentTop = null;

    function getCoords(el) {
      var rect = el.getBoundingClientRect();
      return {
        top: rect.top + document.body.scrollTop,
        left: rect.left + document.body.scrollLeft
      };
    }

    function updateSize(el, coords, width) {
      el.style.width = width + 'px';
      el.style.top = coords.top + 'px';
      el.style.left = coords.left + 'px';
    }

    function resize() {
      var leftCoords = getCoords(left);
      var contentCoords = getCoords(content);
      updateSize(leftTop, leftCoords, left.offsetWidth);
      updateSize(contentTop, contentCoords, content.offsetWidth);
    }

    document.addEventListener("DOMContentLoaded", function() {
      left = document.getElementById('left');
      content = document.getElementById('content');
      leftTop = document.getElementById('leftTop');
      contentTop = document.getElementById('contentTop');
      resize();
    });

    // TODO debounce onResize listener.
    window.addEventListener('resize', function(event){
      resize();
    });

  }());

</script>
</html>